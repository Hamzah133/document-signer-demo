<div class="dashboard">
  <!-- Navbar -->
  <nav class="navbar">
    <div class="navbar-content">
      <div class="navbar-left">
        <h2 class="logo">Document Signer</h2>
      </div>
      <div class="navbar-right">
        <span class="user-email">{{ userEmail }}</span>
        <button class="ghost-btn" (click)="logout()">Logout</button>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <div class="main-content">
    <div class="header">
      <h1>My Documents</h1>
      <button class="primary-btn" (click)="createNew()">+ New Document</button>
    </div>

    <!-- Tab Navigation -->
    <div class="tabs">
      <button
        class="tab-button"
        [class.active]="activeTab === 'documents'"
        (click)="setActiveTab('documents')">
        Documents
      </button>
      <button
        class="tab-button"
        [class.active]="activeTab === 'templates'"
        (click)="setActiveTab('templates')">
        Templates
      </button>
    </div>

    <!-- Documents Table -->
    <div class="card" *ngIf="getFilteredDocuments().length > 0">
      <table class="data-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Status</th>
            <th *ngIf="activeTab === 'documents'">Progress</th>
            <th>Created</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let doc of getFilteredDocuments()" (click)="openDocument(doc)" class="table-row">
            <td class="doc-name">{{ doc.name }}</td>
            <td>
              <span class="status-badge" [class]="doc.status">{{ doc.status }}</span>
            </td>
            <td *ngIf="activeTab === 'documents'" class="progress">
              <div class="progress-bar-container">
                <div class="progress-bar" [style.width.%]="getProgressPercent(doc)"></div>
              </div>
              <span class="progress-text">{{ getProgressText(doc) }}</span>
            </td>
            <td class="date">{{ doc.createdAt | date:'MMM d, y' }}</td>
            <td>
              <button class="ghost-btn" (click)="deleteDocument(doc, $event)">Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Empty State -->
    <div *ngIf="getFilteredDocuments().length === 0" class="empty-state">
      <p>No documents in this section</p>
      <button class="primary-btn" (click)="createNew()">Create a new document</button>
    </div>
  </div>
</div>
